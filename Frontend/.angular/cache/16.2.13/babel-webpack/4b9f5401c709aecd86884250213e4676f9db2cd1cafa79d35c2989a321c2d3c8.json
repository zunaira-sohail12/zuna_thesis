{"ast":null,"code":"import { HttpHeaders } from '@angular/common/http';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport let PythonApisService = /*#__PURE__*/(() => {\n  class PythonApisService {\n    constructor(http) {\n      this.http = http;\n    }\n    sourceSave(sourceId) {\n      sessionStorage.setItem('sourceId', sourceId);\n    }\n    getSource() {\n      return sessionStorage.getItem('sourceId');\n    }\n    callTestService() {\n      //  let body = new URLSearchParams();\n      //  body.set('questions',questions);\n      let url = \"http://18.203.160.124:8000/test\";\n      return this.http.get(url);\n    }\n    callPythonService(questions) {\n      //  let body = new URLSearchParams();\n      //  body.set('questions',questions);\n      const body = {\n        'questions': questions\n      };\n      let url = \"http://18.203.160.124:8000/chat\";\n      return this.http.post(url, body);\n    }\n    uploads(event) {\n      const formData = new FormData();\n      const httpHeaders = new HttpHeaders({\n        'x-api-key': 'sec_aqyqlWcZ4GoYjGY7l1ZZLb3AYcDkHo5n',\n        'Access-Control-Allow-Origin': '*'\n      });\n      formData.append(\"file\", event.target.files[0]);\n      this.http.post('https://api.chatpdf.com/v1/sources/add-file', formData, {\n        headers: httpHeaders\n      }).subscribe(data => {\n        console.log(data);\n        this.sourceSave(JSON.parse(JSON.stringify(data)).sourceId);\n      }, err => {\n        // ret_result=err.toString; \n        console.log(err);\n      });\n    }\n    getMsg(question) {\n      const body = {\n        \"sourceId\": \"src_8iY3bCuTJ2ddv235Wc8Lf\",\n        \"question\": question\n      };\n      let url = \"http://18.203.160.124:8000/msg\";\n      return this.http.post(url, body);\n    }\n    callCreateAccountService(username, email, userid) {\n      const body = {\n        \"user_id\": userid,\n        \"username\": username,\n        \"user_email\": email\n      };\n      let url = \"http://18.203.160.124:8000/insert\";\n      return this.http.post(url, body);\n    }\n    callUploadImageService(events, userid) {\n      const formData = new FormData();\n      let url = \"http://18.203.160.124:8000/upload_image/\" + userid;\n      console.log(\"UserId::\" + userid);\n      console.log(events);\n      formData.append(\"files\", events);\n      this.http.post(url, formData).subscribe(data => {\n        console.log(data);\n        this.sourceSave(JSON.parse(JSON.stringify(data)).sourceId);\n      }, err => {\n        // ret_result=err.toString; \n        console.log(err);\n      });\n    }\n    callFileTrain(event) {\n      //  let body = new URLSearchParams();\n      //  body.set('questions',questions);\n      const formData = new FormData();\n      let url = \"http://18.203.160.124:8000/uploading\";\n      formData.append(\"files\", event.target.files[0]);\n      return this.http.post(url, formData);\n      /*  .subscribe(data => {\n          console.log(data);\n          this.sourceSave(JSON.parse(JSON.stringify(data)).sourceId);\n        },err=>{\n          // ret_result=err.toString;\n          console.log(err);\n          }); */\n    }\n\n    callURLTrain(url) {\n      //  let body = new URLSearchParams();\n      //  body.set('questions',questions);\n      const body = {\n        \"url\": url\n      };\n      let urls = \"http://18.203.160.124:8000/scrap\";\n      return this.http.post(urls, body);\n    }\n    /// call send mail API\n    sendMail(sender, subject, bodys) {\n      const body = {\n        \"sender\": sender,\n        \"subject\": subject,\n        \"body\": bodys\n      };\n      let urls = \"http://3.254.97.93:8000/send_email\";\n      return this.http.post(urls, body);\n    }\n    /// call save user API\n    saveUser(email, username, password, cpassword) {\n      const body = {\n        \"user\": {\n          \"email\": email,\n          \"username\": username,\n          \"password\": password,\n          \"cpassword\": cpassword\n        }\n      };\n      let urls = \"http://3.254.97.93:8000/insert_user\";\n      return this.http.post(urls, body);\n    }\n    /// call user login API\n    userLogin(username, password) {\n      const body = {\n        \"user\": {\n          \"username\": username,\n          \"password\": password\n        }\n      };\n      let urls = \"http://3.254.97.93:8000/login_user\";\n      return this.http.post(urls, body);\n    }\n    static #_ = this.ɵfac = function PythonApisService_Factory(t) {\n      return new (t || PythonApisService)(i0.ɵɵinject(i1.HttpClient));\n    };\n    static #_2 = this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n      token: PythonApisService,\n      factory: PythonApisService.ɵfac,\n      providedIn: 'root'\n    });\n  }\n  return PythonApisService;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}